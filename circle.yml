dependencies:
  pre:
    - gem install package_cloud
    - sudo apt-get -y install build-essential
    - sudo apt-get -y install rpm libncurses-dev cmake clang g++ wget git libssl-dev bc patch libedit-dev libelf-dev

test:
  override:
    - nproc
    - cd ./v0.3.1 && make prepare
    - cd ./v0.3.1 && make config_circle
    - cd ./v0.3.1 && make rpm:
      timeout: 1800

deployment:
  production:
    branch: master
    commands:
      - cd ./v0.3.1 && make publish
